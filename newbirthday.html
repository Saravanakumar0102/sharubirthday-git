<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBD Sharuu! âœ¨</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&family=Courier+Prime&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0; height: 100vh; display: flex; align-items: center; justify-content: center;
            background: #ffc1d6; background-image: radial-gradient(#ff85a2 0.5px, transparent 0.5px);
            background-size: 20px 20px; font-family: 'Poppins', sans-serif; overflow: hidden;
        }
        .card {
            background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 30px;
            box-shadow: 0 20px 50px rgba(255, 20, 147, 0.3); text-align: center;
            max-width: 380px; width: 85%; border: 4px solid #fff; z-index: 10; transition: 0.5s;
        }

        /* Smart Teddy Mascot */
        .mascot-container { font-size: 4.5rem; display: block; margin-bottom: 10px; transition: transform 0.3s; }
        .look-left { transform: rotate(-20deg) translateX(-15px); }
        .look-right { transform: rotate(20deg) translateX(15px); }

        h2 { color: #d63384; margin-bottom: 20px; font-size: 1.3rem; }
        .btn-group { display: flex; gap: 15px; justify-content: center; margin-top: 25px; flex-wrap: wrap; }
        
        button {
            padding: 12px 25px; border: none; border-radius: 50px;
            cursor: pointer; font-weight: bold; transition: 0.3s; font-size: 0.9rem;
        }
        button:hover { transform: scale(1.2); }

        .btn-yes { background: #ff477e; color: white; flex: 1; }
        .btn-no { background: #ffd1dc; color: #d63384; flex: 1; }
        .btn-back { background: #666; color: white; width: 100%; margin-top: 10px; }

        .hidden { display: none; }
        
        /* Typewriter Note */
        #typewriter {
            font-family: 'Courier Prime', monospace;
            font-size: 1rem; color: #d63384; min-height: 100px;
            text-align: left; padding: 10px; border-left: 3px solid #ff477e;
        }

        .surprise-text { font-family: 'Dancing Script', cursive; font-size: 2.3rem; color: #ff007f; margin-bottom: 10px; }
    </style>
</head>
<body>

    <audio id="bdayMusic" loop>
        <source src="https://www.chosic.com/wp-content/uploads/2021/07/Singari-Acoustic.mp3" type="audio/mpeg">
    </audio>

    <div class="card" id="step1">
        <div class="mascot-container" id="teddy1">ğŸ§¸</div>
        <h2>Heloooo ğŸ˜Š</h2>
        <button class="btn-yes" onclick="startExperience()">Click Here! âœ¨</button>
    </div>

    <div class="card hidden" id="step2">
        <div class="mascot-container" id="teddy2">ğŸ§¸</div>
        <h2>Neega SRM thana?</h2>
        <div class="btn-group">
            <button class="btn-yes" onmouseover="look('teddy2', 'L')" onmouseout="look('teddy2', 'C')" onclick="nextStep(2, 4)">YES âœ…</button>
            <button class="btn-no" onmouseover="look('teddy2', 'R')" onmouseout="look('teddy2', 'C')" onclick="nextStep(2, 3)">NO âŒ</button>
        </div>
    </div>

    <div class="card hidden" id="step3">
        <div class="mascot-container">ğŸ¤¡</div>
        <h2>Pina inuma Allen la padikire? ğŸ˜‚</h2>
        <button class="btn-back" onclick="nextStep(3, 2)">Go Back & Answer Correct-ah! ğŸ”™</button>
    </div>

    <div class="card hidden" id="step4">
        <div class="mascot-container" id="teddy4">ğŸ¦</div>
        <h2>Neega atha banned team oda fan a? ğŸ˜</h2>
        <div class="btn-group">
            <button class="btn-yes" onmouseover="look('teddy4', 'L')" onmouseout="look('teddy4', 'C')" onclick="nextStep(4, 6)">YES ğŸ’›</button>
            <button class="btn-no" onmouseover="look('teddy4', 'R')" onmouseout="look('teddy4', 'C')" onclick="nextStep(4, 5)">NO âŒ</button>
        </div>
    </div>

    <div class="card hidden" id="step5">
        <div class="mascot-container">ğŸ¤¡</div>
        <h2>Apo defending champions RCB fan a? ğŸ˜‚</h2>
        <button class="btn-back" onclick="nextStep(5, 4)">Go Back! ğŸ”™</button>
    </div>

    <div class="card hidden" id="step6">
        <div class="mascot-container">ğŸ“©</div>
        <h2>Apo ithaga ungaluku post...</h2>
        <button class="btn-yes" style="width:100%" onclick="nextStep(6, 7)">Click Post Card ğŸ</button>
    </div>

    <div class="card hidden" id="step7">
        <div class="surprise-text">Happy Birthday Sharuu! ğŸ¤</div>
        <button class="btn-yes" style="width:100%" onclick="startTypewriter()">One Small Note ğŸ“</button>
    </div>

    <div class="card hidden" id="step8">
        <div id="typewriter"></div>
    </div>

    <script>
        const music = document.getElementById('bdayMusic');
        const noteText = "Happy 20s da macha inneme 20s la iruthu nee happy a than iruka pore wishing you a very happy birthday \n\n- Saro";

        function look(id, dir) {
            const t = document.getElementById(id);
            if(dir === 'L') t.classList.add('look-left');
            else if(dir === 'R') t.classList.add('look-right');
            else t.classList.remove('look-left', 'look-right');
        }

        function startExperience() { music.play(); nextStep(1, 2); }

        function nextStep(cur, nxt) {
            document.getElementById('step' + cur).style.display = 'none';
            document.getElementById('step' + nxt).classList.remove('hidden');
            document.getElementById('step' + nxt).style.display = 'block';
        }

        function startTypewriter() {
            nextStep(7, 8);
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            let i = 0;
            function type() {
                if (i < noteText.length) {
                    document.getElementById("typewriter").innerHTML += noteText.charAt(i);
                    i++;
                    setTimeout(type, 50);
                }
            }
            type();
        }
    </script>
</body>
</html>